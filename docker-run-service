--kafka

docker network create app-tier --driver bridge

docker run -d --name zookeeper-server
  --network app-tier 
  -e ALLOw_ANONYMOUS_LOGIN=yes bitnami/zookeeper:latest
  
docker run -d --name kafka-server \
  --network app-tier \
  -p 9092 : 9092\
  -e ALLOw_PLAINTEXT_LISTENER=yes \
  -e KAFKA_CFG_Z00KEEPER_CONNECT=zookeeper-server:2181 \
  -e KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT:/ /192.168.0.101:9092 \bitnami/kafka:latest
  
docker run --name kafka-manager -d\
  --network app-tier \
  -p 9000 : 9000\
  -e ZK_HOSTS="zookeeper-server:2181"\sheepkiller/kafka-manager
  
docker run -d --name kafka-map l
  --network app-tier l
  -p 9001 :8080 \
  -v /opt/kafka-map/data : /usr/local/kafka-map/data l-e DEFAULT_USERNAME=admin \
  -e DEFAULT_PASSWORD=admin \
  --restart always dushixiang/kafka-map:latest

docker pull postgres:latest
docker volume create postgres-volume
docker run -d --name=postgres -p 5432:5432 -v postgres-volume:/var/lib/postgresql/data -e POSTGRES_PASSWORD=postgres postgres

docker pull mongo:4.0
docker volume create mongo-volume
docker run --name mongo -v mongo-volume:/data/db -p 27017:27017 -d mongo:4.0

docker run --name mongo-express -d  --link mongo:mongo -p 8081:8081 mongo-express

//cpu procdump demo
docker run -itd --name net5apivol2 --privileged  -p 82:80 -v net5vol2:/app dockerscholar/net5api

//cms
docker run -d  --name my-sscms     -p 5555:80     --restart=always      -e SSCMS_SECURITY_KEY=e2a3d303-ac9b-41ff-9154-930710af0845  -e SSCMS_DATABASE_TYPE=PostgreSQL -e  SSCMS_DATABASE_CONNECTION_STRING="Host=8.130.26.7;Port=5432;Username=postgres;Password=postgres;Database=cmscontent;Command Timeout=10"       sscms/core:latest

docker run -d --network prom -p 9090:9090 -v /C/Users/Administrator/Desktop/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus

docker run -d  --network prom  -p 3000:3000   --name=grafana   -v   /C/Users/Administrator/Desktop/grafana-storage:/var/lib/grafana  grafana/grafana

docker run -d \
    --name my-sscms \
    -p 5034:80 \
    --restart=always \
    -v volume-sscms:/app/wwwroot \
    -e SSCMS_SECURITY_KEY=e2a3d303-ac9b-41ff-9154-930710af0845 \
    -e SSCMS_DATABASE_TYPE=PostgreSQL \
    -e SSCMS_DATABASE_CONNECTION_STRING='Host=112.124.4.9;Username=postgres;Password=postgres;Database=cms' \
    sscms/core:latest

 docker inspect 61 |  findstr "Port"
